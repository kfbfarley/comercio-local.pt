(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[620],{2519:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/registar",function(){return a(1363)}])},1363:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return u}});var l=a(5666),n=a.n(l),s=a(5893),c=a(7294),i=a(9669),r=a.n(i);function o(e,t,a,l,n,s,c){try{var i=e[s](c),r=i.value}catch(o){return void a(o)}i.done?t(r):Promise.resolve(r).then(l,n)}function u(){var e,t=(0,c.useState)(0),a=t[0],l=t[1],i=(0,c.useState)(null),u=i[0],m=i[1],d=(0,c.useState)(null),x=d[0],p=d[1],h=(0,c.useState)({message:null,type:!1}),b=h[0],f=h[1],g=(e=n().mark((function e(t){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),x&&a&&u.length>0&&u.includes("@")&&u.includes(".")&&u.length>5?r().post("/api/register",{email:u,nif:a,social:x}).then((function(e){e.data.exists?f({message:"O comerciante j\xe1 se encontra registado.",type:!1}):e.data.result?f({message:"O comerciante foi registado com sucesso.",type:!0}):f({message:"N\xe3o foi poss\xedvel registar o comerciante.",type:!1})})):f({message:"Por favor, preencha todos os campos.",type:!1});case 2:case"end":return e.stop()}}),e)})),function(){var t=this,a=arguments;return new Promise((function(l,n){var s=e.apply(t,a);function c(e){o(s,l,n,c,i,"next",e)}function i(e){o(s,l,n,c,i,"throw",e)}c(void 0)}))});return(0,s.jsx)("body",{className:"antialiased bg-body text-body font-body",children:(0,s.jsxs)("section",{className:"relative py-24 h-screen flex flex-wrap content-center",children:[(0,s.jsx)("img",{className:"hidden lg:block absolute top-0 right-0 w-2/5 h-full object-cover clip-path-left",src:"/local.jpg"}),(0,s.jsx)("div",{className:"relative container px-4 mx-auto",children:(0,s.jsxs)("div",{className:"flex flex-wrap items-center -mx-4",children:[(0,s.jsx)("div",{className:"w-full lg:w-1/2 px-4 mb-12 lg:mb-0",children:(0,s.jsxs)("div",{className:"max-w-lg",children:[(0,s.jsx)("h2",{className:"mb-10 text-4xl font-bold font-heading text-blue-800",children:"O MOMENTO \xc9 AGORA DE FAZER PARTE DO COM\xc9RCIO LOCAL"}),(0,s.jsx)("p",{className:"text-lg text-gray-500",children:"Pode fazer parte do com\xe9rcio local preenchendo o formul\xe1rio que se segue. Ajude a impulsionar a sua cidade."})]})}),(0,s.jsx)("div",{className:"w-full lg:w-1/2 px-4",children:(0,s.jsx)("div",{className:"p-6 lg:p-16 bg-white",children:(0,s.jsxs)("form",{onSubmit:g,children:[(0,s.jsx)("span",{className:"inline-block uppercase text-blue-400 font-semibold tracking-widest",children:"REGISTAR-SE"}),(0,s.jsx)("h3",{className:"mb-4 text-2xl font-bold font-heading text-blue-800",children:"FA\xc7A PARTE DO PROJETO"}),(0,s.jsx)("input",{className:"block w-full py-4 pl-6 mb-2 text-sm placeholder-blue-400 text-blue-400 bg-blue-50",type:"email",name:"email",placeholder:"Endere\xe7o Email",onChange:function(e){return m(e.target.value)}}),(0,s.jsx)("input",{className:"block w-full py-4 pl-6 mb-2 text-sm placeholder-blue-400 text-blue-400 bg-blue-50",type:"text",name:"nif",maxLength:9,size:9,onChange:function(e){!function(e){9===e.length&&r().get("/api/nif?value=".concat(e)).then((function(t){l(Number(e)),p(t.data.name)}))}(e.currentTarget.value)},placeholder:"N\xfamero Identifica\xe7\xe3o Fiscal"}),(0,s.jsx)("input",{className:"block w-full py-4 pl-6 mb-2 text-sm placeholder-blue-400 text-blue-400 bg-gray-70",type:"text",name:"merchant-social-name",disabled:!0,value:x,placeholder:"Denomina\xe7\xe3o Social"}),(0,s.jsxs)("label",{className:"".concat(b.message?"block":"hidden"," line-flex mb-4 text-left"),children:[(0,s.jsx)("i",{className:"".concat(b.type?"text-green-500":"text-red-500"," mr-2 fas fa-times")}),(0,s.jsx)("span",{className:"".concat(b.type?"text-green-400":"text-red-400"," -mt-1 inline-block text-sm"),children:b.message})]}),(0,s.jsxs)("label",{className:"inline-flex mb-4 text-left",children:[(0,s.jsx)("input",{className:"mr-2",type:"checkbox",name:"terms",value:"1",required:!0}),(0,s.jsxs)("span",{className:"-mt-1 inline-block text-sm text-gray-500",children:["Concordo com os"," ",(0,s.jsx)("a",{className:"text-blue-400 hover:underline",href:"#",children:"Termos, Pol\xedticas de Privacidade"})," ","e"," ",(0,s.jsx)("a",{className:"text-blue-400 hover:underline",href:"#",children:"Pol\xedtica de Cookies"}),"."]})]}),(0,s.jsx)("button",{type:"submit",className:"w-full inline-block mb-4 py-5 text-sm text-blue-800 uppercase font-bold bg-white border-2 border-blue-700 hover:text-white hover:bg-blue-800 transition duration-200",children:"REGISTAR-SE"})]})})})]})})]})})}}},function(e){e.O(0,[669,774,888,179],(function(){return t=2519,e(e.s=t);var t}));var t=e.O();_N_E=t}]);